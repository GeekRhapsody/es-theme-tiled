<?xml version="1.0" encoding="UTF-8"?>
<theme>
	<formatVersion>7</formatVersion>
	<customView name="gridthumbnails" inherits="grid" displayName="Grid (Thumbnails)">

		<imagegrid name="gamegrid">
			<autoLayout>0 3</autoLayout>
			<cellProportion>0.75</cellProportion>
			<cellProportion if="{system.name} == '3do'">1.1</cellProportion>
			<cellProportion if="{system.name} == 'megaduck'">1.35</cellProportion>
			<cellProportion if="{system.name} == 'gw'">1.25</cellProportion>
			<cellProportion if="{system.name} == 'n64'">1.25</cellProportion>
			<cellProportion if="{system.name} == 'fds'">1</cellProportion>
			<cellProportion if="{system.name} == 'gb'">1</cellProportion>
			<cellProportion if="{system.name} == 'snes'">1.25</cellProportion>
			<cellProportion if="{system.name} == 'satellaview'">0.6</cellProportion>
			<cellProportion if="{system.name} == 'virtualboy'">1</cellProportion>
			<cellProportion if="{system.name} == 'gbc'">1</cellProportion>
			<cellProportion if="{system.name} == 'gba'">1</cellProportion>
			<cellProportion if="{system.name} == 'pokemini'">1</cellProportion>
			<cellProportion if="{system.name} == 'nds'">1</cellProportion>
			<cellProportion if="{system.name} == 'switch'">0.65</cellProportion>
			<cellProportion if="{system.name} == 'neogeocd'">1</cellProportion>
			<cellProportion if="{system.name} == 'ngp'">0.9</cellProportion>
			<cellProportion if="{system.name} == 'ngpc'">0.9</cellProportion>
			<cellProportion if="{system.name} == 'psx'">1</cellProportion>
			<cellProportion if="{system.name} == 'psp'">0.6</cellProportion>
			<cellProportion if="{system.name} == 'dreamcast'">1.1</cellProportion>
		</imagegrid>

		<imagegrid name="gamegrid">

			<imageSource>thumbnail</imageSource>
			<showVideoAtDelay>-1</showVideoAtDelay>
			<itemTemplate>
				<storyboard event="activate">
					<animation property="scale" to="1.05" duration="150" mode="easeOut"/>
				</storyboard>
				<storyboard event="deactivate">
					<animation property="scale" to="1" duration="250" mode="easeOut"/>
				</storyboard>

				<image name="background" extra="true">
					<origin>0 0</origin>
					<pos>0 0</pos>
					<size>1 1</size>
					<zIndex>2</zIndex>
					<visible>true</visible>
					<color>${tertiaryColor}</color>
					<path>./_inc/images/bg_color.png</path>
					<roundCorners>${corners}</roundCorners>
					<storyboard event="activate" repeat="forever">
						<animation property="color" from="${tertiaryColor}" to="${secondaryColor}"/>
					</storyboard>
					<storyboard event="deactivate">
						<animation property="color" from="${secondaryColor}" to="${tertiaryColor}"/>
					</storyboard>
				</image>

				<image name="GameArt" extra="true">
					<path>firstfile({game:thumbnail},{game:image})</path>
					<pos>0.5</pos>
					<origin>0.5</origin>
					<minSize>1 1</minSize>
					<linearSmooth>true</linearSmooth>
					<roundCorners>${corners}</roundCorners>
					<zIndex>3</zIndex>
					<scale>0.963</scale>
				</image>
				<image name="GameArtDefault" extra="true">
					<visible>!exists({game:thumbnail}) && !exists({game:image})</visible>
					<path>./art/defgame.png</path>
					<pos>0.5</pos>
					<origin>0.5</origin>
					<minSize>1 1</minSize>
					<linearSmooth>true</linearSmooth>
					<roundCorners>${corners}</roundCorners>
					<zIndex>3</zIndex>
					<scale>0.963</scale>
				</image>

				<image name="GameArtShade" extra="true">
					<origin>0 0</origin>
					<pos>0 0</pos>
					<size>1 1</size>
					<zIndex>2</zIndex>
					<visible>true</visible>
					<color>000000</color>
					<opacity>${shadeStrength}</opacity>
					<path>./_inc/images/bg_color.png</path>
					<roundCorners>${corners}</roundCorners>
					<storyboard event="activate">
						<animation property="opacity" from="${shadeStrength}" to="0" duration="150" mode="linear"/>
					</storyboard>
					<storyboard event="deactivate">
						<animation property="opacity" from="0" to="${shadeStrength}" duration="150" mode="linear"/>
					</storyboard>
					<zIndex>30</zIndex>
				</image>
			</itemTemplate>
		</imagegrid>

		<video name="GameVideo" extra="true" ifSubset="factbox:yes">
			<path>{game:video}</path>
			<pos>0.872 0.213</pos>
			<origin>0.5 0.5</origin>
			<horizontalAlignment>center</horizontalAlignment>
			<verticalAlignment>center</verticalAlignment>
			<maxSize>0.235 0.331</maxSize>
			<delay>1.5</delay>
			<zIndex>10</zIndex>
		</video>
	</customView>
</theme>